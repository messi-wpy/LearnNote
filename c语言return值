### １．直接声明的局部变量与malloc动态分配的变量的区别:
直接声明为静态分配，在函数栈中，会随函数的弹出而销毁，而malloc在堆中分配地址，会伴随整个内存，
系统不会自动回收(没有java的垃圾自动回收机制)，必须主动free.


>Linux等的C语言中return返回值的机制为：将返回值存入eax寄存器中，然后系统再将eax中的值赋给变量(i)。


(1)return
不管是返回指针还是返回值，return将return之后的值存到eax寄存器中，回到父函数再将返回的值赋给变量。

 

(2)局部地址
在函数内返回一个指针会出错的原因：子函数运行完毕时，存局部变量的所有栈地址的内容已经被释放。若在父函数中再访问这些地址中的内容时，因为这些地址的内容已经被释放，所访问到的值可能是乱的、不定的。在函数内部不能返回栈地址，但是却能返回还未释放的堆空间。

 

(3)分配/释放内存
分配内存，就是将某变量存入到某块内存中的一个地址中；释放内存，就是将此内存中的内容清除掉，恢复内存未被初始化的状态。

 

在子函数中，未释放的堆地址可被函数返回给父函数使用，但栈地址不可被子函数返回给父函数使用。

参考:
[1](https://blog.csdn.net/SuilandCoder/article/details/78578446)
[2](https://blog.csdn.net/misskissC/article/details/10757975)
